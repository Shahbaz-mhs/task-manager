<!DOCTYPE html>
<html>
<head>

</head>

<body>
<link rel="stylesheet"  href="/css/styles.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">



 {{>header}}

<div class="container">
 
  <div class="row">
    <div class="col-12">
        <h1>Tasks List</h1>
        <hr>
        <div class="flex col-12 " style="">
          <a class="btn btn-primary" href="/task/add">Add Task</a>
          <div class=" float-end" style="float:right;">
          <div class="input-group">
          
  <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon"  id="search-input"/>&nbsp;
  <button type="button" class="btn btn-outline-primary" id="search-button">search</button>
  
</div>
</div>

        </div>
      
      
      
     
      <table class="table table-bordered" style="margin-top: 10px;">
        <thead>
          <tr>
            <th scope="col">Sr.no</th>
            <th scope="col">Task</th>
            <th scope="col">Completed</th>
            <th scope="col">CreatedAt</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
            
            {{#if task_list}}
            
            {{#each task_list }}
        <tr>
            <th scope="col">{{inc @index}}</th>
            <th scope="col">{{description}}</th>
            <th scope="col">{{#if_equal completed true}}Yes{{else}}No{{/if_equal}} </th>
            <th scope="col">{{prettifyDate createdAt }}</th>
            <td>
              <a href="/view/{{_id}}" class="btn btn-primary"><i class="fa fa-eye"></i></a>
              <a href="/task/{{_id}}" class="btn btn-success"><i class="fa fa-pencil"></i></a>
            <a href="/delete/{{_id}}" class="btn btn-danger"><i class="fa fa-trash"></i></a>
            </td>
        </tr>
            {{/each}}
            {{else}}
        <tr>
            <td colspan="5"> NO Data Found</td>
        </tr>
        
            {{/if}}

          {{!-- <tr>
            <th scope="row">1</th>
            <td>Bootstrap 4 CDN and Starter Template</td>
            <td>Cristina</td>
            <td>2.846</td>
            <td>
              <button type="button" class="btn btn-primary"><i class="far fa-eye"></i></button>
              <button type="button" class="btn btn-success"><i class="fas fa-edit"></i></button>
            <button type="button" class="btn btn-danger"><i class="far fa-trash-alt"></i></button>
            </td>
          </tr> --}}
          
          
        </tbody>
      </table>
      <nav aria-label="Page navigation example">
  <ul class="pagination justify-content-end">
    {{!-- <li class="page-item disabled">
      <a class="page-link" href="/task?skip={{#if next}}{{prev}}{{else}}2{{/if}}" tabindex="-1">Previous</a>
    </li> --}}
    {{!-- <li class="page-item"><a class="page-link" href="/task?skip=0">1</a></li> --}}
    
    {{#times task_count }}
    <li class="page-item"><a class="page-link" href="/task?skip={{incby2 this 4}}">{{this}}</a></li>
    {{/times}}
    {{!-- <li class="page-item"><a class="page-link" href="/task?skip=0">1</a></li>
    <li class="page-item"><a class="page-link" href="/task?skip=2">2</a></li>
    <li class="page-item"><a class="page-link" href="/task?skip=4">3</a></li> --}}
    {{!-- {{#if_equal completed true}}Yes{{else}}No{{/if_equal}} --}}
    {{!-- <li class="page-item {{#if_equal task_count 6  }} disabled {{/if_equal}}">
      <a class="page-link" href="/task?skip={{#if next}}{{next}}{{else}}2{{/if}}">Next</a>
    </li> --}}
  </ul>
</nav>
    </div>
  </div>
</div>

<script>
  const searchButton = document.getElementById('search-button');
const searchInput = document.getElementById('search-input');
searchButton.addEventListener('click', () => {
  const inputValue = searchInput.value;
  window.location.replace("/task?description="+inputValue);
  //alert(inputValue);
});
</script>

</body>
{{>footer}}
</html>